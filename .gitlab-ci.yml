variables:
  CUSTOM_BUILD_IMAGE_EXTRA_ARGS: >
    --build-arg REACT_APP_CONTAINER_TAG=uk.pnn.police.scotland.review.name
    --build-arg REACT_APP_CONTAINER_DESC=uk.pnn.police.scotland.review.desc
    --build-arg REACT_APP_CONTAINER_ICON=uk.pnn.police.scotland.review.icon
    --build-arg REACT_APP_LAUNCH_URL=uk.pnn.police.scotland.review.url

include:
  - project: "harlaw/gitlab/templates"
    ref: "feature/nexus"
    file: "/docker/build.yml"
  - project: "harlaw/gitlab/templates"
    ref: "feature/nexus"
    file: "/docker/lint.yml"
  - project: "harlaw/gitlab/templates"
    ref: "feature/nexus"
    file: "/docker/test.yml"
  - project: "harlaw/gitlab/templates"
    ref: "feature/nexus"
    file: "/file/lint.yml"
  - project: "harlaw/gitlab/templates"
    ref: "feature/nexus"
    file: "/yaml/lint.yml"
  - project: "harlaw/gitlab/templates"
    ref: "feature/nexus"
    file: "/json/lint.yml"
  - project: "harlaw/gitlab/templates"
    ref: "feature/nexus"
    file: "/repo/lint.yml"

stages:
  - lint
  - build
  - test
